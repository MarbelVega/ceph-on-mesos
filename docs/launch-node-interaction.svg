<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="1332px" style="width:612px;height:1332px;" version="1.1" viewBox="0 0 612 1332" width="612px"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="53" x2="53" y1="38.4883" y2="1294.084"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="175" x2="175" y1="38.4883" y2="1294.084"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="319.5" x2="319.5" y1="38.4883" y2="1294.084"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="484.5" x2="484.5" y1="38.4883" y2="1294.084"/><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="15" y="23.5352">Zookeeper</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="8" y="1293.084"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="15" y="1313.6191">Zookeeper</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="109" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="116" y="23.5352">FrameworkActor</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="109" y="1293.084"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="116" y="1313.6191">FrameworkActor</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="276.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="283.5" y="23.5352">TaskActor</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="276.5" y="1293.084"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="283.5" y="1313.6191">TaskActor</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="439.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="446.5" y="23.5352">NodeActor</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="439.5" y="1293.084"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="446.5" y="1313.6191">NodeActor</text><polygon fill="#A80036" points="308,65.4883,318,69.4883,308,73.4883,312,69.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="314" y1="69.4883" y2="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="60.5" y="65.0566">Update config to add mon nodes</text><polygon fill="#FBFB77" filter="url(#f1)" points="262,82.7988,377,82.7988,387,93.7988,377,105.7988,262,105.7988,252,93.7988,262,82.7988" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="264" y="99.3672">Add pending task</text><polygon fill="#A80036" points="473,128.1094,483,132.1094,473,136.1094,477,132.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="132.1094" y2="132.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="327" y="127.6777">Create</text><polygon fill="#A80036" points="473,157.4199,483,161.4199,473,165.4199,477,161.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="161.4199" y2="161.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="327" y="156.9883">Send initial state</text><polygon fill="#A80036" points="331,186.7305,321,190.7305,331,194.7305,327,190.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="325" x2="484" y1="190.7305" y2="190.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="337" y="186.2988">Persist</text><polygon fill="#A80036" points="473,216.041,483,220.041,473,224.041,477,220.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="220.041" y2="220.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="327" y="215.6094">Success; send version</text><polygon fill="#A80036" points="64.5,245.3516,54.5,249.3516,64.5,253.3516,60.5,249.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="319" y1="249.3516" y2="249.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="70.5" y="244.9199">Persist</text><polygon fill="#A80036" points="308,274.6621,318,278.6621,308,282.6621,312,278.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="314" y1="278.6621" y2="278.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="60.5" y="274.2305">Persist okay</text><polygon fill="#FBFB77" filter="url(#f1)" points="233,291.9727,407,291.9727,417,302.9727,407,314.9727,233,314.9727,223,302.9727,233,291.9727" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="235" y="308.541">Update persistence version</text><polygon fill="#A80036" points="473,337.2832,483,341.2832,473,345.2832,477,341.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="341.2832" y2="341.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="327" y="336.8516">Send</text><polygon fill="#FBFB77" filter="url(#f1)" points="376,354.5938,593,354.5938,603,373.5938,593,392.5938,376,392.5938,366,373.5938,376,354.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="378" y="371.1621">Detects transaction was persisted</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="378" y="386.4727">Introspects state</text><polygon fill="#A80036" points="331,415.2148,321,419.2148,331,423.2148,327,419.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="325" x2="484" y1="419.2148" y2="419.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="337" y="414.7832">Listen for resources</text><polygon fill="#FBFB77" filter="url(#f1)" points="399,432.5254,571,432.5254,581,451.5254,571,470.5254,399,470.5254,389,451.5254,399,432.5254" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="401" y="449.0938">Becomes waiting for offer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="401" y="464.4043">with timeout to re-request</text><polygon fill="#A80036" points="308,493.1465,318,497.1465,308,501.1465,312,497.1465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="314" y1="497.1465" y2="497.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="182" y="492.7148">Offer</text><polygon fill="#FBFB77" filter="url(#f1)" points="251,510.457,389,510.457,399,529.457,389,548.457,251,548.457,241,529.457,251,510.457" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="253" y="527.0254">Look for reservations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="253" y="542.3359">for my frameworkId</text><polygon fill="#FBFB77" filter="url(#f1)" points="265,559.0781,374,559.0781,384,585.0781,374,612.0781,265,612.0781,255,585.0781,265,559.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="267" y="575.6465">If reservation for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="267" y="590.957">unknown taskId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="267" y="606.2676">reject</text><polygon fill="#FBFB77" filter="url(#f1)" points="265,623.0098,374,623.0098,384,657.0098,374,692.0098,265,692.0098,255,657.0098,265,623.0098" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="267" y="639.5781">If reservation for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="267" y="654.8887">known taskId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="267" y="670.1992">but wrong slave</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="267" y="685.5098">reject</text><polygon fill="#A80036" points="473,714.252,483,718.252,473,722.252,477,718.252" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="718.252" y2="718.252"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="327" y="713.8203">Send resources</text><polygon fill="#FBFB77" filter="url(#f1)" points="424,731.5625,545,731.5625,555,742.5625,545,754.5625,424,754.5625,414,742.5625,424,731.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="426" y="748.1309">Clear offer request</text><polygon fill="#A80036" points="331,776.873,321,780.873,331,784.873,327,780.873" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="325" x2="484" y1="780.873" y2="780.873"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="337" y="776.4414">Accept &amp; reserve</text><polygon fill="#FBFB77" filter="url(#f1)" points="182,794.1836,457,794.1836,467,813.1836,457,832.1836,182,832.1836,172,813.1836,182,794.1836" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="184" y="810.752">Forms reservation ops to reserve resources</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="188" y="826.0625">and create persistent volume</text><polygon fill="#A80036" points="186,854.8047,176,858.8047,186,862.8047,182,858.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="180" x2="319" y1="858.8047" y2="858.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="192" y="854.373">Accept offer</text><polygon fill="#A80036" points="308,884.1152,318,888.1152,308,892.1152,312,888.1152" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="314" y1="888.1152" y2="888.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="182" y="883.6836">Send reserved offer</text><polygon fill="#A80036" points="473,913.4258,483,917.4258,473,921.4258,477,917.4258" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="917.4258" y2="917.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="327" y="912.9941">Forward reserved offer</text><polygon fill="#A80036" points="331,942.7363,321,946.7363,331,950.7363,327,946.7363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="325" x2="484" y1="946.7363" y2="946.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="337" y="942.3047">Set slaveId</text><polygon fill="#A80036" points="473,972.0469,483,976.0469,473,980.0469,477,976.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="976.0469" y2="976.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="327" y="971.6152">Okay</text><polygon fill="#A80036" points="64.5,1001.3574,54.5,1005.3574,64.5,1009.3574,60.5,1005.3574" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="319" y1="1005.3574" y2="1005.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="70.5" y="1000.9258">Persist</text><polygon fill="#FBFB77" filter="url(#f1)" points="408,1018.668,562,1018.668,572,1044.668,562,1071.668,408,1071.668,398,1044.668,408,1018.668" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="410" y="1035.2363">At this point this node</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="410" y="1050.5469">is forever locked to this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="410" y="1065.8574">slave</text><polygon fill="#A80036" points="308,1094.5996,318,1098.5996,308,1102.5996,312,1098.5996" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="314" y1="1098.5996" y2="1098.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="60.5" y="1094.168">Okay</text><polygon fill="#A80036" points="473,1123.9102,483,1127.9102,473,1131.9102,477,1127.9102" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="1127.9102" y2="1127.9102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="327" y="1123.4785">Update state</text><polygon fill="#A80036" points="331,1183.2207,321,1187.2207,331,1191.2207,327,1187.2207" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="325" x2="484" y1="1187.2207" y2="1187.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="337" y="1152.7891">Launch task</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="337" y="1168.0996">with reserved</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="337" y="1183.4102">offer</text><polygon fill="#A80036" points="186,1213.1523,176,1217.1523,186,1221.1523,182,1217.1523" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="180" x2="319" y1="1217.1523" y2="1217.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="192" y="1212.7207">Launch task</text><polygon fill="#A80036" points="308,1242.4629,318,1246.4629,308,1250.4629,312,1246.4629" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="314" y1="1246.4629" y2="1246.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="182" y="1242.0313">TaskStatus</text><polygon fill="#A80036" points="473,1271.7734,483,1275.7734,473,1279.7734,477,1275.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="479" y1="1275.7734" y2="1275.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="327" y="1271.3418">Update state</text></g></svg>